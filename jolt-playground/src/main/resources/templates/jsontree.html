<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JSON Tree Viewer</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f9f9f9;
			color: #333;
			margin: 20px;
		}

		.tabs {
			display: flex;
			border-bottom: 2px solid #ddd;
		}

		.tab {
			padding: 10px 20px;
			cursor: pointer;
			border: 1px solid #ddd;
			border-bottom: none;
			background-color: #f4f4f4;
			margin-right: 5px;
		}

		.tab.active {
			background-color: #fff;
			border-bottom: 2px solid #fff;
			font-weight: bold;
		}

		.tab-content {
			display: none;
			padding: 20px;
			border: 1px solid #ddd;
			background-color: #fff;
		}

		.tab-content.active {
			display: block;
		}

		textarea {
			width: 100%;
			height: 150px;
			font-family: monospace;
		}

		ul {
			list-style-type: none;
			padding-left: 20px;
		}

		li {
			cursor: pointer;
			padding: 5px;
			border-radius: 5px;
			transition: background-color 0.2s;
		}

		li:hover {
			background-color: #e8e8e8;
		}

		.collapsed::before {
			content: '►';
			margin-right: 5px;
		}

		.expanded::before {
			content: '▼';
			margin-right: 5px;
		}

		.key {
			font-weight: bold;
			color: #2c3e50;
		}

		.value {
			color: #7f8c8d;
		}

		.hidden {
			display: none;
		}
	</style>
	<script th:src="@{/js/treeviewer.js}" defer></script>

	
	<script>

		// Tab switching functionality
		function switchTab(tabId) {
			// Deactivate all tabs
			document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
			document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

			// Activate selected tab and its content
			document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
			document.getElementById(tabId).classList.add('active');
		}

	</script>
	<script>

		// Tab switching functionality
		function switchTab(tabId) {
			// Deactivate all tabs
			document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
			document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

			// Activate selected tab and its content
			document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
			document.getElementById(tabId).classList.add('active');
		}
	</script>
</head>

<body>
	<h1>JSON Tree Viewer with Tabs</h1>

	<!-- Tabs -->
	<div class="tabs">
		<div class="tab active" onclick="switchTab('inputTab')">JSON Input</div>
		<div class="tab" onclick="switchTab('treeTab')">Tree View</div>
	</div>

	<!-- Tab Content -->
	<div id="inputTab" class="tab-content active">
		<textarea id="ta_jsonInput" placeholder="Paste your JSON here"></textarea>
		<button onclick="generateTree(document.getElementById('ta_jsonInput').value,'div_treeView','treeTab')">Generate
			Tree</button>

	</div>
	<div id="treeTab" class="tab-content">
		<div id="div_treeView"></div>
	</div>


</body>

</html>